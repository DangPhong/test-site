"use strict";(self.webpackChunknal_test=self.webpackChunknal_test||[]).push([[383],{383:(U,d,r)=>{r.r(d),r.d(d,{BlogsPageModule:()=>I,BlogsRoutingModule:()=>h});var l=r(6814),g=r(9597),f=r(8645),y=r(9773),m=r(9349),_=function(i){return i.KEY="key",i.DIRECTION="direction",i}(_||{}),t=r(5879),u=r(9928),v=r(4221);let T=(()=>{class i{constructor(e){this.store=e}getBlogData(){return this.store.select(m.yA)}fetchBlogData(e){this.store.dispatch(u._Z(e))}getIsLoading(){return this.store.select(m.xU)}deleteBlog(e){this.store.dispatch(u.X4({payload:e}))}clearBlogStore(){this.store.dispatch(u.Kz())}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(v.yh))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),b=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["id","pause",1,"d-flex","align-items-center","justify-content-center"],["id","spinner"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA())},styles:["#spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_frames 1s infinite linear;background:transparent;border:1.75vw solid #FFF;border-radius:100%;border-top-color:#df691a;width:10vw;height:10vw;opacity:.6;padding:0;position:absolute;z-index:999}@keyframes _ngcontent-%COMP%_frames{0%{transform:rotate(0)}to{transform:rotate(359deg)}}#pause[_ngcontent-%COMP%]{display:block;background:rgba(0,0,0,.66) no-repeat 0 0;width:100%;height:100%;position:fixed;bottom:0;left:0;z-index:1000}"]})}return i})();function C(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.pageSizeChange(s))}),t._uU(2),t.qZA()()}if(2&i){const e=c.$implicit;t.xp6(2),t.hij(" ",e," ")}}function S(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"li",14)(1,"a",15),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.pageChange(s+1))}),t._uU(2),t.qZA()()}if(2&i){const e=c.index,n=t.oxw(2);t.Q6J("ngClass",e===n._items.page-1?"active":""),t.xp6(2),t.Oqu(e+1)}}const w=function(){return[]};function B(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nav",1)(1,"div",2)(2,"button",3),t._uU(3),t.qZA(),t.TgZ(4,"ul",4),t.YNc(5,C,3,1,"li",5),t.qZA()(),t.TgZ(6,"ul",6)(7,"li",7)(8,"a",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pageChange(o._items.page-1))}),t.TgZ(9,"span",9),t._uU(10,"\xab"),t.qZA()()(),t.YNc(11,S,3,2,"li",10),t.TgZ(12,"li",11)(13,"a",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pageChange(o._items.page+1))}),t.TgZ(14,"span",9),t._uU(15,"\xbb"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",e._items.offset,"/ page "),t.xp6(2),t.Q6J("ngForOf",e.paginationSize),t.xp6(6),t.Q6J("ngForOf",t.DdM(3,w).constructor(null==e._items?null:e._items.total))}}let k=(()=>{class i{set items(e){e.total>0&&(this._items={...e})}constructor(){this.paginationSize=[10,20,30],this.emitPagesize=new t.vpe}pageChange(e){this.emitPagesize.emit({page:e,pageSize:this._items.offset})}pageSizeChange(e){this.emitPagesize.emit({page:this._items.page,pageSize:e})}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-pagination"]],inputs:{items:"items"},outputs:{emitPagesize:"emitPagesize"},decls:1,vars:1,consts:[["class","row pagination-nav justify-content-center","aria-label","Page navigation example",4,"ngIf"],["aria-label","Page navigation example",1,"row","pagination-nav","justify-content-center"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item hover-pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item","hover-pointer"],["aria-label","Next",1,"page-link",3,"click"],["type","button",1,"dropdown-item","hover-pointer",3,"click"],[1,"page-item","hover-pointer",3,"ngClass"],[1,"page-link",3,"click"]],template:function(n,o){1&n&&t.YNc(0,B,16,4,"nav",0),2&n&&t.Q6J("ngIf",!!o._items)},dependencies:[l.mk,l.sg,l.O5],styles:[".pagination-nav[_ngcontent-%COMP%]{gap:8px}.pagination-nav[_ngcontent-%COMP%]   .site-pagination[_ngcontent-%COMP%]{width:min-content}"]})}return i})();var p=r(95);function x(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"li",4)(1,"button",5),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.selectButton(s))}),t._uU(2),t.qZA()()}if(2&i){const e=c.$implicit;t.xp6(2),t.hij(" ",e," ")}}let Z=(()=>{class i{constructor(){this.buttons=[],this.keyDefault="",this.emitSelected=new t.vpe}selectButton(e){this.emitSelected.emit(e)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-button-list"]],inputs:{buttons:"buttons",keyDefault:"keyDefault"},outputs:{emitSelected:"emitSelected"},decls:5,vars:2,consts:[[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","item-list-btn","text-left"],[1,"dropdown-menu"],["class","",4,"ngFor","ngForOf"],[1,""],["type","button",1,"dropdown-item",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2),t.qZA(),t.TgZ(3,"ul",2),t.YNc(4,x,3,1,"li",3),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",o.keyDefault," "),t.xp6(2),t.Q6J("ngForOf",o.buttons))},dependencies:[l.sg],styles:[".item-list-btn[_ngcontent-%COMP%]{width:10rem}"]})}return i})();function D(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"li",20),t._UZ(1,"img",21),t.TgZ(2,"div",22)(3,"h5",23),t._uU(4),t.qZA(),t.TgZ(5,"p",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.clickDetail("view",s.id))}),t._uU(6),t.qZA()(),t.TgZ(7,"div")(8,"a",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.clickDetail("edit",s.id))}),t.O4$(),t.TgZ(9,"svg",26),t._UZ(10,"path",27),t.qZA()(),t.kcU(),t.TgZ(11,"a",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.clickDetail("delete",s.id))}),t.O4$(),t.TgZ(12,"svg",29),t._UZ(13,"path",30),t.qZA()()()()}if(2&i){const e=c.$implicit;t.xp6(1),t.Q6J("src",null==e.image?null:e.image.url,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.hij(" ",e.content," ")}}function P(i,c){if(1&i&&(t.TgZ(0,"ul",18),t.YNc(1,D,14,3,"li",19),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e._dataItems)}}let A=(()=>{class i{constructor(){this._itemPagination={page:1,count:0,next:0,total:0,prev:0,offset:0},this._dataItems=[],this.inputSearch="",this.keyDefaultSortKey="id",this.keyDefaultSortDirection="asc",this.titlePage="Blog list",this.listKeySortTpm=[],this.sortDirectionTpm=[],this.emitPagesize=new t.vpe,this.emitSearch=new t.vpe,this.emitKeySort=new t.vpe,this.emitSortDirection=new t.vpe,this.emitNewBlog=new t.vpe}set dataItems(e){e?.data?.items?.length&&(this._dataItems=e.data.items,this._itemPagination=e.pagination)}pageChange(e){this.emitPagesize.emit(e)}searchValue(){this.emitSearch.emit(this.inputSearch)}selectKeySort(e){this.emitKeySort.emit(e),this.keyDefaultSortKey=e}selectSortDirection(e){this.emitSortDirection.emit(e),this.keyDefaultSortDirection=e}clickDetail(e,n){this.emitNewBlog.emit({action:e,...null!=n&&{id:n}})}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-blog-tpml"]],inputs:{keyDefaultSortKey:"keyDefaultSortKey",keyDefaultSortDirection:"keyDefaultSortDirection",titlePage:"titlePage",listKeySortTpm:"listKeySortTpm",sortDirectionTpm:"sortDirectionTpm",dataItems:"dataItems"},outputs:{emitPagesize:"emitPagesize",emitSearch:"emitSearch",emitKeySort:"emitKeySort",emitSortDirection:"emitSortDirection",emitNewBlog:"emitNewBlog"},decls:33,vars:8,consts:[[1,"header"],[1,"table-title"],[1,"row"],[1,"item-search","row"],[1,"col-6","d-flex","align-items-center"],["data-toggle","modal",1,"btn","btn-success",3,"click"],[1,"material-icons"],[1,"col-6"],[1,"d-flex","justify-content-end","mb-3"],[1,"input-group-prepend","mr-2","d-flex"],["type","text","placeholder","","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"click"],[1,"item-sort","justify-content-end"],[1,"d-flex"],[1,"title-key-sort"],[3,"buttons","keyDefault","emitSelected"],["class","list-unstyled row",4,"ngIf"],[3,"items","emitPagesize"],[1,"list-unstyled","row"],["class","media m-2 col-sm-6",4,"ngFor","ngForOf"],[1,"media","m-2","col-sm-6"],["alt","...",1,"mr-3","img-thumbnail",2,"width","200px","height","200px",3,"src"],[1,"media-body",2,"width","200px","height","200px"],[1,"mt-0","mb-1"],[1,"text-truncate","hover-pointer",3,"click"],["data-toggle","modal",1,"edit","mr-3","hover-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-fill"],["d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"],["data-toggle","modal",1,"delete","hover-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4," Manage "),t.TgZ(5,"b"),t._uU(6),t.qZA()()()()(),t.TgZ(7,"div")(8,"div",3)(9,"div",4)(10,"a",5),t.NdJ("click",function(){return o.clickDetail("create")}),t.TgZ(11,"i",6),t._uU(12,"\ue147"),t.qZA(),t.TgZ(13,"span"),t._uU(14," Add New Blog"),t.qZA()()(),t.TgZ(15,"div",7)(16,"div",8)(17,"div",9)(18,"input",10),t.NdJ("ngModelChange",function(a){return o.inputSearch=a}),t.qZA()(),t.TgZ(19,"button",11),t.NdJ("click",function(){return o.searchValue()}),t._uU(20," Search "),t.qZA()(),t.TgZ(21,"div",12)(22,"div",13)(23,"h5",14),t._uU(24,"Sort By key"),t.qZA(),t.TgZ(25,"app-button-list",15),t.NdJ("emitSelected",function(a){return o.selectKeySort(a)}),t.qZA()(),t.TgZ(26,"div",13)(27,"h5",14),t._uU(28,"Sort Direction"),t.qZA(),t.TgZ(29,"app-button-list",15),t.NdJ("emitSelected",function(a){return o.selectSortDirection(a)}),t.qZA()()()()(),t.TgZ(30,"div"),t.YNc(31,P,2,1,"ul",16),t.qZA(),t.TgZ(32,"app-pagination",17),t.NdJ("emitPagesize",function(a){return o.pageChange(a)}),t.qZA()()),2&n&&(t.xp6(6),t.Oqu(o.titlePage),t.xp6(12),t.Q6J("ngModel",o.inputSearch),t.xp6(7),t.Q6J("buttons",o.listKeySortTpm)("keyDefault",o.keyDefaultSortKey),t.xp6(4),t.Q6J("buttons",o.sortDirectionTpm)("keyDefault",o.keyDefaultSortDirection),t.xp6(2),t.Q6J("ngIf",o._dataItems.length>0),t.xp6(1),t.Q6J("items",o._itemPagination))},dependencies:[k,p.Fj,p.JJ,p.On,Z,l.sg,l.O5],styles:[".item-sort[_ngcontent-%COMP%]{gap:1rem;display:grid}.item-sort[_ngcontent-%COMP%]   .title-key-sort[_ngcontent-%COMP%]{width:9rem}"]})}return i})();function O(i,c){if(1&i&&(t.TgZ(0,"app-loading"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.isLoading)}}let z=(()=>{class i{constructor(e,n){this.router=e,this.blogServices=n,this.notifier=new f.x,this.paramRequest={},this.listKeySort=["id","title","content","create_at","updated_at"],this.sortDirection=["asc","desc"],this.sortObject={key:"id",direction:"asc"},this.isLoading=!0}ngOnInit(){this.blogServices.fetchBlogData(this.paramRequest),this.blogServices.getBlogData().pipe((0,y.R)(this.notifier)).subscribe(e=>{e.data.items.length&&(this.dataItems=e,this.isLoading=!1)})}ngOnDestroy(){this.sortObject={key:"id",direction:"asc"},this.dataItems=m.c$,this.paramRequest={},this.blogServices.clearBlogStore()}pageChange(e){const n={...this.paramRequest,page:e.page,offset:e.pageSize};this.isLoading=!0,this.blogServices.fetchBlogData(n)}searchItem(e){const n={...this.paramRequest,search:e};this.isLoading=!0,this.blogServices.fetchBlogData(n)}sortItem(e,n){n===_.KEY?this.sortObject.key=e:this.sortObject.direction=e;const o={...this.paramRequest,sort_by:this.sortObject.key,sort_direction:this.sortObject.direction};this.isLoading=!0,this.blogServices.fetchBlogData(o)}addNewBlogDetail(e){const{action:n,id:o}=e;"edit"===n?this.router.navigateByUrl(`edit-blog/${o}`):"create"===n?this.router.navigateByUrl("create-blog"):"view"===n?this.router.navigateByUrl(`blog/${o}`):(this.isLoading=!0,o&&this.blogServices.deleteBlog(o))}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.F0),t.Y36(T))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-blogs-page"]],decls:2,vars:6,consts:[[4,"ngIf"],[3,"dataItems","listKeySortTpm","sortDirectionTpm","keyDefaultSortKey","keyDefaultSortDirection","emitNewBlog","emitSortDirection","emitKeySort","emitPagesize","emitSearch"]],template:function(n,o){1&n&&(t.YNc(0,O,2,1,"app-loading",0),t.TgZ(1,"app-blog-tpml",1),t.NdJ("emitNewBlog",function(a){return o.addNewBlogDetail(a)})("emitSortDirection",function(a){return o.sortItem(a,"direction")})("emitKeySort",function(a){return o.sortItem(a,"key")})("emitPagesize",function(a){return o.pageChange(a)})("emitSearch",function(a){return o.searchItem(a)}),t.qZA()),2&n&&(t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("dataItems",o.dataItems)("listKeySortTpm",o.listKeySort)("sortDirectionTpm",o.sortDirection)("keyDefaultSortKey",o.sortObject.key)("keyDefaultSortDirection",o.sortObject.direction))},dependencies:[b,l.O5,A]})}return i})();var M=r(7483);let J=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez]})}return i})(),F=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez]})}return i})(),K=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[J,p.u5,F,l.ez]})}return i})(),N=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez]})}return i})();const q=[{path:"",component:z}];let h=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(q),g.Bz]})}return i})(),I=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[N,l.ez,h,M.sQ,K]})}return i})()}}]);